{% extends "base.html" %}

<!-- 브라우저 탭 타이틀 영역 -->
{% block title %}Board{% endblock %}

<!-- 헤더 영역 -->
{% block header %}
    <h1>Board</h1>
{% endblock %}

<!-- 본문 영역 -->
{% block content %}
    <h2>게시글 목록</h2>

    {% if posts %}
        <ul>
            {% for post in posts %}
                <li>
                    <a href="{{url_for('view_post', post_id = post['post_id'])}}">{{post.post_title}}</a>
                    <small>({{post.name}} / {{post.created_at}})</small>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>게시글이 없습니다.</p>
    {% endif %}

    <!-- 페이지 네비게이션 -->
    {% if total_pages > 1 %}
        <div>
            {% if page > 1 %}
                <a href="{{ url_for('main', page=page-1) }}">이전</a>
            {% endif %}
            {% for p in range(1, total_pages + 1) %}
                {% if p == page %}
                    <strong>{{p}}</strong>
                {% else %}
                    <a href="{{ url_for('main', page=p) }}">{{p}}</a>
                {% endif %}
            {% endfor %}
            {% if page < total_pages %}
                <a href="{{ url_for('main', page=page+1) }}">다음</a>
            {% endif %}
        </div>
    {% endif %}
{% endblock %}